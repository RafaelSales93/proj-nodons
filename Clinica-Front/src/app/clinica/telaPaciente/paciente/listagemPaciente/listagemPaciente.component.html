<mat-toolbar color="primary">
  Lista de Pacientes
  <span class="spacer"></span>
  <button mat-raised-button color="accent" (click)="novoPaciente()">Novo Paciente</button>
  <button mat-raised-button color="accent" [routerLink]="['/home']">Voltar</button>
</mat-toolbar>

<mat-card class="mb-4">
  <form [formGroup]="filtroForm" (ngSubmit)="aplicarFiltro()">
    <div class="flex-row gap-16">
      <mat-form-field appearance="outline" class="flex-grow-1">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="nome" placeholder="Filtrar por nome" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-grow-1">
        <mat-label>CPF</mat-label>
        <input matInput formControlName="cpf" placeholder="Filtrar por CPF" />
      </mat-form-field>

      <button mat-stroked-button color="primary" type="submit" style="align-self: center;">
        Filtrar
      </button>
    </div>
  </form>
</mat-card>

<mat-card>
  <table mat-table [dataSource]="pacientes" class="mat-elevation-z8" style="width: 100%;">

    <ng-container matColumnDef="nome">
      <th mat-header-cell *matHeaderCellDef> Nome </th>
      <td mat-cell *matCellDef="let paciente"> {{ paciente.nome }} </td>
    </ng-container>

    <ng-container matColumnDef="cpf">
      <th mat-header-cell *matHeaderCellDef> CPF </th>
      <td mat-cell *matCellDef="let paciente"> {{ paciente.cpf }} </td>
    </ng-container>

    <ng-container matColumnDef="telefone">
      <th mat-header-cell *matHeaderCellDef> Telefone </th>
      <td mat-cell *matCellDef="let paciente"> {{ paciente.telefone }} </td>
    </ng-container>

    <ng-container matColumnDef="acoes">
      <th mat-header-cell *matHeaderCellDef> Ações </th>
      <td mat-cell *matCellDef="let paciente">
        <button mat-icon-button color="primary" (click)="editarPaciente(paciente.id)">
          <mat-icon>edit</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="colunasExibidas"></tr>
    <tr mat-row *matRowDef="let row; columns: colunasExibidas;"></tr>
  </table>
</mat-card>
